---
---
Redovisning kmom06
=========================

Det gick bra att skapa klassen för filtrering och formatering av texten. Jag tycker att jag fick till en bra och flexibel lösning på funktionen `parse()`. Jag loopade igenom `$filters` som innehåller de filter som stöds i klassen. För varje nyckel i `$filters` kollar jag om den finns i arrayen `$filter` vilket är inparametern för de funktioner som ska användas. Om det blir en matchning tar jag `$value` vilket är namnet på funktionen som ska användas och skriver `$this->value($text)` för att anropa den funktionen som `$value` representerar. Detta gör att man kan fylla på med funktioner i `$filters` utan att behöva ändra något i `parse()`.

Detta var en svår uppgift till en början innan jag hade bestämt vilken struktur jag skulle ha på klasserna. Jag visste inte om jag skulle använda kontroller eller routes samt vilka klasser jag skulle ha. Jag valde att göra en kontroller och tre andra klasser för att flytta över mycket av koden dit från kontrollern. Jag gjorde en generell klass `CMSContent` som hanterar fall som gäller både pages och bloggposter, bland annat uppdatera, hämta allt osv. Sedan gjorde jag klasserna `CMSPage` och `CMSBlog` som hanterar endast pages eller blogposts, t.ex när man ska hämta en blogpost eller hämta alla pages. Jag försökte gå efter att jag ska kunna använda de klasserna i projektet.

Jag känner mig nöjd med den koden jag skrivit i me/redovisa. Jag känner att jag utvecklas mer och mer och gjort ett bra jobb utifrån den tid och kunskap jag har. Det blir lättare och lättare att förstå objektorientering och bygga upp en klasstruktur. Det svåra är att veta hur mycket kod man ska ha i sina kontrollers och vad som är värt att lägga i en klass. Jag känner mig nöjd med klassen `TextFilter` och att jag samlat lite kod i traits som `HandleGlobalVariablesTrait` och `FunctionsTrait`. Det jag är mindre nöjd med är kontrollern för Movie eftersom mycket kod ligger där. Man kan säkert skapa en klass för den men jag visste inte vad jag skulle bryta ut. Det är svårt när man har SQL-kod för då känns det ingen idé eftersom man inte kan återanvända den igen.

Jag skulle vilja göra en metod som sanerar värdena i resultsetet från olika sql-frågor. Nu har jag inte riktigt koll på om värdena är sanerade eller inte eftersom jag gör det på lite olika ställen. Det kluriga är dock att resultsetet är i form av ett objekt och det kan vara olika vad resultsetet innehåller från gång till gång. Om jag får tid över i projektet kanske jag ger mig på det och försöker hitta en lösning. Jag tänker mig då någon liknande lösning som jag har i metoden `parse()` i klassen `TextFilter`. Klasserna `CMSContent`, `CMSPage` och `CMSBlog` innehåller en del SQL-kod som är specifika för tabellen `content` vilket blir ett problem om man vill använda tabeller med andra namn. Därför skulle man kunna ändra så att man själv kan välja tabell och kolumnnamn.

I det här kursmomentet har jag lärt mig hur man kan lagra innehåll i en databas och vad ett Content Management System är för något. Jag har även lärt mig hur man filtrerar text genom olika filter innan det visas upp. Begreppet slug och hur man genererar en sådan var även nytt för mig. Som i tidigare kursmoment har jag fått mer övning i objektorientering och hur man kan utforma samt strukturera sina klasser.
